================================
ACRouter Release Guide
================================

Automated GitHub release publishing using GitHub CLI.

USAGE
-----

Windows (PowerShell):
    .\release.bat v1.0.0 "Release description"
    .\release.bat v1.0.0 --skip-build  (use existing .bin files)

Linux/Mac:
    chmod +x release.sh
    ./release.sh v1.0.0 "Release description"

EXAMPLES
--------

Create v1.0.0 release with full build:
    .\release.bat v1.0.0 "Initial release"

Create v1.1.0 release using existing binaries:
    .\release.bat v1.1.0 "Bug fixes and improvements" --skip-build

Create release without description (default will be used):
    .\release.bat v1.2.0 --skip-build

WHAT THE SCRIPT DOES
--------------------

1. Builds the project (idf.py build) or skips if --skip-build
2. Creates build/release-vX.X.X directory
3. Copies all required .bin files:
   - bootloader.bin
   - partition-table.bin
   - ACRouter-project.bin
   - ota_data_initial.bin
   - flash_args
4. Creates flash scripts for users:
   - flash.bat (Windows)
   - flash.sh (Linux/Mac)
5. Creates FLASH_README.txt with instructions
6. Publishes release to GitHub with attached files

--skip-build OPTION
-------------------

Use --skip-build when:
- Project is already built (build/ files exist)
- ESP-IDF environment is not activated
- You want to quickly republish a release

IMPORTANT: build/*.bin files must exist!

AFTER PUBLISHING
----------------

Users will be able to:
1. Download release: https://github.com/robotdyn-dimmer/ACRouter/releases
2. Extract archive
3. Flash ESP32 with a single command:

   Windows: flash.bat COM5
   Linux:   ./flash.sh /dev/ttyUSB0

VERSION UPDATE
--------------

Before creating a new release, update version in CMakeLists.txt:

    project(ACRouter-project VERSION 1.1.0)

REQUIREMENTS
------------

- GitHub CLI (gh) installed and authenticated
- ESP-IDF configured (idf.py available)
- Project builds successfully

VERIFICATION
------------

Check GitHub CLI status:
    gh auth status

Check existing releases:
    gh release list

View a release:
    gh release view v1.0.0

DELETING A RELEASE
------------------

If you need to delete a release:
    gh release delete v1.0.0

================================
